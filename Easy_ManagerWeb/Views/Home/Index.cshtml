@{
    ViewData["Title"] = "Home";
}

<h2>Bem-vindo(a) @ViewBag.Usuario</h2>
<p>Esta é a Home do sistema.</p>
<a asp-controller="Account" asp-action="Logout">Sair</a>

<script>
    // Tempo de inatividade em minutos antes de desconectar
    const tempoInatividadeMin = 5;
    let tempoMs = tempoInatividadeMin * 60 * 1000;
    let timer;

    function resetTimer() {
        clearTimeout(timer);
        timer = setTimeout(() => {
            window.location.href = '/Account/Logout';
        }, tempoMs);
    }

    // Reinicia o timer a cada movimento do mouse, clique ou tecla
    document.addEventListener('mousemove', resetTimer);
    document.addEventListener('mousedown', resetTimer);
    document.addEventListener('keypress', resetTimer);
    document.addEventListener('touchstart', resetTimer);
    document.addEventListener('scroll', resetTimer);

    // Inicia o timer
    resetTimer();
</script>
